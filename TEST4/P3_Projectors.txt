
C:\Users\lca\Source\Repos\duck10\LatticeRepLib\x64\Release>test4

================================================================================
TESTING SVD-BASED P3 PROJECTOR
================================================================================

=== Building SVD-Based Projector for single_angle_p2_p3_90deg using TRUE P3 Boundaries ===
Generating 30 TRUE P3 boundary examples for single_angle_p2_p3_90deg...
  Example 1: p2╖p3 = 0.000000e+00
  Example 2: p2╖p3 = 0.000000e+00
  Example 3: p2╖p3 = 0.000000e+00
  Example 4: p2╖p3 = 0.000000e+00
  Example 5: p2╖p3 = 6.627221e-01
Generated 30 standardized P3 boundary examples
Building constraint matrix for single_angle_p2_p3_90deg using 30 examples
  Example 1: constraint = 0.000000e+00
  Example 2: constraint = 0.000000e+00
  Example 3: constraint = 0.000000e+00
  Example 4: constraint = 0.000000e+00
  Example 5: constraint = 6.627221e-01
  Example 6: constraint = 0.000000e+00
  Example 7: constraint = 0.000000e+00
  Example 8: constraint = 0.000000e+00
  Example 9: constraint = 0.000000e+00
  Example 10: constraint = 0.000000e+00
Built constraint matrix: 30 ╫ 6
After removing duplicates: 30 unique constraints
Performing SVD on 30 ╫ 6 constraint matrix
Singular values: 4.820e+00 2.310e+00 1.056e+00 1.935e-16 5.647e-01 3.147e-17
Effective rank: 4 / 30
Null space dimension: 2
Using effective rank: 1
Using constraint 0 (? = 4.820e+00)
Projection matrix trace: 5.0000 (should be 5)

--- 6╫6 Projection Matrix ---
  [  1.0000,   0.0000,  -0.0000,   0.0000,  -0.0000,  -0.0000]
  [  0.0000,   1.0000,   0.0000,  -0.0000,   0.0000,   0.0000]
  [ -0.0000,   0.0000,   0.8580,   0.2668,  -0.2045,  -0.0938]
  [  0.0000,  -0.0000,   0.2668,   0.4986,   0.3844,   0.1763]
  [ -0.0000,   0.0000,  -0.2045,   0.3844,   0.7053,  -0.1352]
  [ -0.0000,   0.0000,  -0.0938,   0.1763,  -0.1352,   0.9380]

--- Significant Matrix Elements (|value| > 0.01) ---
  P[0,0] =   1.0000
  P[1,1] =   1.0000
  P[2,2] =   0.8580
  P[2,3] =   0.2668
  P[2,4] =  -0.2045
  P[2,5] =  -0.0938
  P[3,2] =   0.2668
  P[3,3] =   0.4986
  P[3,4] =   0.3844
  P[3,5] =   0.1763
  P[4,2] =  -0.2045
  P[4,3] =   0.3844
  P[4,4] =   0.7053
  P[4,5] =  -0.1352
  P[5,2] =  -0.0938
  P[5,3] =   0.1763
  P[5,4] =  -0.1352
  P[5,5] =   0.9380

--- Testing Projector on Pure P3 Constraints ---
Test 1: 3.755e+01 ? 3.719e+01 ?
Test 2: 3.512e+00 ? 1.844e+00 ?
Test 3: 3.078e+01 ? 2.040e+01 ?
Test 4: 1.151e+01 ? 1.152e+01
Test 5: 3.532e+01 ? 2.291e+01 ?
Test 6: 2.711e+01 ? 3.508e+00 ?
Test 7: 2.135e+00 ? 6.732e+00
Test 8: 6.911e+00 ? 5.174e+00 ?
Test 9: 1.144e+01 ? 1.145e+01
Test 10: 1.865e+01 ? 3.546e+00 ?

Summary: 7/10 improved P3 constraints
Average improvement ratio: 0.556

--- Training Data Quality Check ---
Training example 1: constraint = 0.000e+00
Training example 2: constraint = 0.000e+00
Training example 3: constraint = 0.000e+00
Training example 4: constraint = 0.000e+00
Training example 5: constraint = 6.627e-01
Average training constraint: 6.627e-02
? Training data may need improvement
==================================================================================
